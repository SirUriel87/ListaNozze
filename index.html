<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Regala un'esperienza in Giappone!</title>
  <style>

    :root {
      --pointInitSize: 30px;
      --pointHoverIncrease: 6px;
    }

    body {
      margin: 0;
      font-family: sans-serif;
      background: #fdf7f2;
    }
    .container {
      position: relative;
      max-width: 900px;
      margin: 0 auto;
    }
    .map {
      width: 100%;
      display: block;
    }
    .city {
      position: absolute;
      width: 30px;
      height: 30px;
      background: rgba(0, 6, 255, 0.8);
      border-radius: 50%;
      cursor: pointer;
      transform: translate(-50%, -50%);
      transition: transform 0.5s;
      transition-timing-function: ease-out;
    }
    
    .city:hover {
      animation:
        PointGrow 0.4s ease-out forwards,
        PointSmallReduce 0.2s 0.4s forwards
    }

    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background: white;
      padding: 2rem;
      border-radius: 12px;
      max-width: 400px;
      text-align: center;
      position: relative;
    }
    .modal-content button {
      margin-top: 1rem;
      padding: 0.6rem 1.2rem;
      background: #ff5500;
      border: none;
      color: white;
      border-radius: 6px;
      cursor: pointer;
    }

    /* close button */
    .close {
      position: absolute;
      top: 2%;
      right: 2%;
      font-size: 2rem;
      color: black;
      cursor: pointer;
    }

    /* Animations */
    @keyframes PointGrow {
      to{
        width: 40px;
        height: 40px
      }
    }

    @keyframes PointSmallReduce {
      to{
        width: 36px;
        height: 36px
      }
    }

  </style>
</head>
<body>
  <div class="container">
    <img src="japan_map_custom.jpg" alt="Mappa Giappone" class="map">

    <!-- Posizionamento esperienze -->
    <div class="city" style="top: 64%; left: 65%;" onclick="openModal('Tokyo')"></div>
    <div class="city" style="top: 67%; left: 42%;" onclick="openModal('Kyoto')"></div>
    <div class="city" style="top: 71%; left: 24%;" onclick="openModal('Hiroshima')"></div>
  </div>

  <div class="modal" id="modal">
    <div class="modal-content" id="modal-content">
      
      <!-- Contenuto dinamico -->
    </div>
  </div>

  <!-- array delle esperienze -->
  <script>

    document.getElementById('modal').addEventListener('click', function(event) {
      if (event.target === this) {
        closeModal();
      }
    });

    const staticLink = "https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&business=diprima.ale@gmail.com&currency_code=EUR&amount=%amount%&item_name=%title%"

    const experiences = {
      "Tokyo": {
        title: "Serata sushi a Tokyo",
        description: "Regala una cena tradizionale in un sushi bar storico di Shinjuku!",
        amount: "50"
      },
      "Kyoto": {
        title: "Cerimonia del tè a Kyoto",
        description: "Un momento zen in un'antica casa da tè con vista sul giardino giapponese.",
        amount: "100"
      },
      "Hiroshima": {
        title: "Museo della Pace a Hiroshima",
        description: "Un regalo che lascia il segno: visita e riflessione nel cuore della storia.",
        amount: "200"
      }
    };

    function openModal(city) {
      const data = experiences[city];
      const content = document.getElementById('modal-content');
      const url = staticLink.replace("%amount%", data.amount).replace("%title%", data.title);

      content.innerHTML = `
        <div class="close" onclick="closeModal()">&times;</div>
        <h2>${data.title}</h2>
        <p>${data.description}</p>
        <a href="${url}" target="_blank">
          <button>Regala questa esperienza per ${data.amount} €</button>
        </a>
      `;
      document.getElementById('modal').style.display = 'flex';
    }

    function closeModal() {
      document.getElementById('modal').style.display = 'none';
    }

  </script>
</body>
</html>
