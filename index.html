<!DOCTYPE html>
<html lang="it">
<head>
    <link rel="preload" href="img/welcome.jpg" as="image">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover, shrink-to-fit=no" />
  <title>Lista nozze ‚Äì Esperienze in Giappone</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
     <!-- Make sure you put this AFTER Leaflet's CSS -->
 <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <script>
      emailjs.init('3o9a8PZZ5as753dQ1');
  </script>
</head>

<!-- Popup contributo libero -->
 <div id="free-payment-modal" class="modal">
    <div class="modal-content">
        <span id="close-free-modal-btn" class="close-modal">&times;</span>
        <div class="modal-header">
            <i class="fas fa-gift"></i>
            <h3>Grazie per il tuo regalo!</h3>
        </div>
                
        <div class="modal-body">
            
            <!-- Pagamento libero -->
            <div>
                <div class="payment-options">
                    <h4>Scegli il metodo di pagamento</h4>
                    <div class="payment-methods">
                        <button class="payment-method active" data-method="free-bank">
                            <i class="fas fa-university"></i> Bonifico Bancario
                        </button>
                        <button class="payment-method" data-method="free-paypal">
                            <i class="fab fa-paypal"></i> PayPal
                        </button>
                    </div>

                    <div class="payment-details" id="free-bank-details">
                        <div class="bank-details">
                            <div class="detail-row">
                                <span class="detail-label">Intestatario:</span>
                                <span class="detail-value">Alessandro Di Prima</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">IBAN:</span>
                                <span class="detail-value" id="iban">IT53 I036 6901 6007 9645 0573 673</span>
                                <button class="copy-btn" onclick="copyToClipboard('iban')">
                                    <i class="far fa-copy"></i> Copia
                                </button>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Causale:</span>
                                <div class="causale-input">
                                    <input type="text" value="Regalo nozze Ale e Sara: Contributo libero" class="causale-field">
                                    <button class="copy-btn" onclick="copyToClipboard('causale-input')">
                                        <i class="far fa-copy"></i> Copia
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="payment-details" id="free-paypal-details" style="display:none;">
                        <div class="paypal-details">
                            <p>Verrai reindirizzato a PayPal per completare il pagamento. Ricordati di:</p>
                            <ul>
                              <li>Specificare "Amici e Parenti" nel motivo della transazione</li>
                            </ul>
                            <button id="free-paypal-button" class="paypal-btn">
                                <i class="fab fa-paypal"></i> Paga con PayPal
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- <button id="btn-back-to-message" class="copy-btn" style="margin-top: 20px;">
                    <i class="fas fa-arrow-left"></i> Torna al messaggio
                </button> -->
            </div>
        </div>
    </div>
</div>

<div id="payment-modal" class="modal">
    <div class="modal-content">
        <span id="close-modal-btn" class="close-modal">&times;</span>
        <div class="modal-header">
            <i class="fas fa-gift"></i>
            <h3>Grazie per il tuo regalo!</h3>
        </div>
        <div class="selected-experiences">
                    <h4>Hai selezionato:</h4>
                    <ul id="experiences-list"></ul>
                </div>
                <div class="total-amount">
                    <span>Totale:</span>
                    <span id="modal-total">‚Ç¨0</span>
                </div>
                
        <div class="modal-body">
            <!-- Step 1: Messaggio -->
            <div id="message-step">
                
                <h4 style="margin: auto; text-align: center;">üì® Inviateci un messaggio per farci sapere chi ci sta facendo il regalo ‚ù§Ô∏è </h4>
                <form id="payment-confirmation-form" class="confirmation-form">
                    <div class="detail-row">
                        <label for="guest-name">Il tuo/vostro nome: </label>
                        <input type="text" id="guest-name" required placeholder="Come ti chiami?" class="causale-field">
                    </div>
                    
                    <div class="detail-row">
                        <label for="guest-message">Messaggio: </label>
                        <textarea id="guest-message" placeholder="Es: Ciaoo! Eccovi il nostro regalo, divertitevi!" class="causale-field"></textarea>
                    </div>
                    
                    <button id="btnSendMessage" type="submit" class="copy-btn">
                        <i class="fas fa-paper-plane"></i> Invia messaggio e procedi al pagamento
                    </button>
                    
                    <div class="form-status"></div>
                </form>
            </div>
            
            <!-- Step 2: Pagamento (inizialmente nascosto) -->
            <div id="payment-step" style="display: none;">
                <div class="payment-options">
                    <h4>Scegli il metodo di pagamento</h4>
                    <div class="payment-methods">
                        <button class="payment-method active" data-method="bank">
                            <i class="fas fa-university"></i> Bonifico Bancario
                        </button>
                        <button class="payment-method" data-method="paypal">
                            <i class="fab fa-paypal"></i> PayPal
                        </button>
                    </div>

                    <div class="payment-details" id="bank-details">
                        <div class="bank-details">
                            <div class="detail-row">
                                <span class="detail-label">Intestatario:</span>
                                <span class="detail-value">Alessandro Di Prima</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">IBAN:</span>
                                <span class="detail-value" id="iban">IT53 I036 6901 6007 9645 0573 673</span>
                                <button class="copy-btn" onclick="copyToClipboard('iban')">
                                    <i class="far fa-copy"></i> Copia
                                </button>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Causale:</span>
                                <div class="causale-input">
                                    <input type="text" id="causale-input" value="Regalo nozze Ale e Sara: " class="causale-field">
                                    <button class="copy-btn" onclick="copyToClipboard('causale-input')">
                                        <i class="far fa-copy"></i> Copia
                                    </button>
                                </div>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Totale:</span>
                                <span class="detail-value"><span id="bonifico-total-amount">‚Ç¨0</span></span>
                            </div>
                        </div>
                    </div>

                    <div class="payment-details" id="paypal-details" style="display:none;">
                        <div class="paypal-details">
                            <p>Verrai reindirizzato a PayPal per completare il pagamento. Ricordati di:</p>
                            <ul>
                              <li>Specificare "Amici e Parenti" nel motivo della transazione</li>
                              <li>Impostare l'ammontare a <span id="paypal-total-amount">‚Ç¨0</span></li>
                            </ul>
                            <button id="paypal-button" class="paypal-btn">
                                <i class="fab fa-paypal"></i> Paga con PayPal
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- <button id="btn-back-to-message" class="copy-btn" style="margin-top: 20px;">
                    <i class="fas fa-arrow-left"></i> Torna al messaggio
                </button> -->
            </div>
        </div>
    </div>
</div>

<body style="background-color: #a8d4f3;">

  <div id="welcomePage" class="welcome">
    <div class="welcome-content">
      <h1 class="welcome-title">Matrimonio di <br>Sara e Alessandro</h1>
      <h2 class="welcome-subtitle">15/11/2025</h2>

      <div class="welcome-section">

        <h3 class="section-title">Il nostro matrimonio üéé</h3>
        <p class="section-text">
          Siamo felicissimo di condividere con voi questo giorno speciale!<br>
          Il matrimonio si terr√† presso <a href="https://maps.app.goo.gl/dFHtC7T4k8TUdLo48">
            La Fornace di Sammontana a Montelupo Fiorentino</a>
        </p>

        <h3 class="section-title">Programma della giornata üï†</h3>
        <p class="section-text">
          Ci ritroveremo alle 17 direttamente alla location. La cerimonia sar√† in loco e il ricevimento a seguire. Il tutto si svolger√† all'interno della struttura con possibilit√†
          di spostarsi all'esterno per il taglio torta (meteo permettendo)
        </p>

        <h3 class="section-title">Regali üéÅ</h3>
        <p class="section-text">
            La vostra presenza √® per noi il regalo pi√π bello. Non abbiamo preparato una lista nozze fisica e non abbiamo particolari richieste di regali materiali, ma se volete contribuire al nostro
            viaggio di nozze, potete farlo nelle modalit√† che leggete qui sotto.
        </p>

        <h3 class="section-title">Come Contribuire ‚õ©Ô∏è</h3>
        <p class="section-text">
          Abbiamo creato questa lista di esperienze invece della classica lista nozze: potete regalarci 
          <strong>avventure indimenticabili</strong> per il nostro viaggio di nozze in Giappone!
          Se invece preferite fare una donazione libera <a href="#" id="direct-payment-link" style="color: var(--highlightActiveColor); text-decoration: underline; cursor: pointer;">clicca qui</a>.
        </p>
        
        <ol class="instructions-list">
          <li>
            <strong>Sfoglia</strong> le card che troverai sotto alla mappa: ogni card rappresenta un'esperienza che sogniamo di vivere.<br>
            ‚≠ê<em>Clicca sulle card per vedere la posizione sulla mappa e i dettagli!</em>
          </li>
          <li><strong>Scegli</strong> quelle che vorresti regalarci (puoi selezionarne pi√π di una) cliccando sul prezzo.</li>
            <!-- üçé<em>Se stai usando un dispositivo Apple dovrai prima cliccare sull'elemento per seleziona</em> -->
          <li>
            <strong>Quando hai fatto</strong> controlla il carrelo in alto a destra e poi clicca su Checkout
          </li>
          <li>
            <strong>Lasciaci un messaggio</strong> e poi procedi al pagamento tramite bonifico o PayPal.<br>
            ‚ö†Ô∏è<em>Se scegli di pagare con PayPal ricordati di selezionare l'opzione "Amici e familiari"</em>
          </li>
        </ol>
      </div>

      <button id="btnGo" class="btnGo">Avanti</button>
    </div>
  </div>

  <div id="map" class=".map"></div>


  <div class="container">
     <!-- Lista Carrello -->
    <div class="sidebar">
      <h3>Carrello</h3>
      <div class="selected-activities" id="selected-activities">
        <!-- Le attivit√† selezionate appariranno qui -->
      </div>
      <button class="checkout-btn" id="checkout-btn">Checkout (‚Ç¨<span id="total-amount">0</span>)</button>
    </div>

    <!-- Lista card -->
    <div class="cards-container" id="cards-container"></div>

    <button id="toggle-cart" class="toggle-cart-btn">
      <i class="fa-solid fa-arrow-left left-arrow"></i>
      <i class="fa-solid fa-arrow-right right-arrow"></i>
      <i class="fa-solid fa-cart-shopping"></i>
      <span id="cart-badge" class="cart-badge">0</span></button>
  </div>
  

  
  <div class="version-info">v0.4.0</div>
  
  <script src="script.js"> </script>
</body>

</html>